import Phaser from 'phaser';

import monumentValley from './assets/fonts/MonumentValley.otf';
import COLORS from './COLORS.js';
import load from './scenes/load.js';
import menu from './scenes/menu.js';
import main from './scenes/main/main.js';


// Weird little workaround to get fonts to work.
let element = document.createElement('style');
document.head.appendChild(element);
let sheet = element.sheet;
let styles = `@font-face { font-family: "monument-valley"; src: url(data:application/font-woff;charset=utf-8;base64,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) format('woff'); }\n`;
sheet.insertRule(styles, 0);
let div = document.createElement('div');
div.style = 'font-family: monument-valley; position: absolute; left:-1000px; visibility:hidden;';
div.innerHTML = 'hello WORLD';
document.body.appendChild(div);


const config = {
  type: Phaser.WEBGL,
  width: 1920,
  height: 1080,
  render: { batchSize: 4096 },
  scale: {
    mode: Phaser.Scale.FIT,
    autoCenter: Phaser.Scale.CENTER_BOTH,
    parent: document.body,
  },
  input: { gamepad: true },
  scene: [ load, menu, main ],
};

const game = new Phaser.Game(config);
